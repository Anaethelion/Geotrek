{% extends "mapentity/entity_detail.html" %}
{% load i18n static field_verbose_name %}


{% block detailspanel %}
    {{ block.super }}
    <table class="table-striped table-bordered table">
        <tr>
            <th>{{ trail|verbose:"name" }}</th>
            <td>{{ trail.name }}</td>
        </tr><tr>
            <th>{{ trail|verbose:"departure" }}</th>
            <td>{{ trail.departure }}</td>
        </tr><tr>
            <th>{{ trail|verbose:"arrival" }}</th>
            <td>{{ trail.arrival }}</td>
        </tr><tr>
            <th>{{ trail|verbose:"comments" }}</th>
            <td>{{ trail.comments|safe }}</td>
        </tr>
    </table>
    <h2>{% trans "Paths" %}</h2>
    {% for path in trail.paths.all  %}
        <li><a href="{{ path.get_detail_url }}">{{ path }}</a></li>
    {% endfor %}
    <h2>{% trans "Management" %}</h2>
    <table class="table-striped table-bordered table">
        <tr>
            <th>{% trans "Interventions" %}</th>
            <td>
                <p><a href="{% url maintenance:intervention_add %}" class="btn btn-mini btn-success">
                    <i class="icon-plus icon-white"></i> {% trans "Add intervention" %}
                </a></p>
                {% for i in trail.interventions %}
                    {% if forloop.first %}<ul>{% endif %}
                    <li>{{ i.name_display|safe }}</li>
                    {% if forloop.last %}</ul>{% endif %}
                {% empty %}
                    {% trans "None" %}
                {% endfor %}
            </td>
        </tr>
    </table>
{% endblock detailspanel %}
