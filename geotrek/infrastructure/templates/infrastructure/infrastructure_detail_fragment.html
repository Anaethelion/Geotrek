{% load i18n geotrek_tags %}
<h3>{% trans "Infrastructure" %}</h3>
<table class="table">
    {% if modelname != "infrastructure" %}
    <tr>
        <th>{% trans "Infrastructures" %}</th>
        <td>
            {% if perms.infrastructure.add_infrastructure %}
                {% is_topology_model model as is_topology_model %}
                <p class="autohide"><a href="{% url 'infrastructure:infrastructure_add' %}{% if is_topology_model %}?topology={{ object.pk}}{% endif %}" class="btn btn-mini btn-success">
                    <i class="icon-plus icon-white"></i> {% trans "Add a new infrastructure" %}</a>
                </p>
            {% endif %}
            {% for i in object.infrastructures %}
                {% if forloop.first %}<ul>{% endif %}
                <li>{{ i.name_display|safe }}</li>
                {% if forloop.last %}</ul>{% endif %}
            {% empty %}
                <span class="none">{% trans "None" %}</span>
            {% endfor %}
        </td>
    </tr>
    {% endif %}

    {% if modelname != "signage" %}
    <tr>
        <th>{% trans "Signages" %}</th>
        <td>
            {% if perms.infrastructure.add_signage %}
            <p class="autohide"><a href="{% url 'infrastructure:signage_add' %}" class="btn btn-mini btn-success">
                <i class="icon-plus icon-white"></i> {% trans "Add a new signage" %}</a>
            </p>
            {% endif %}
            {% for s in object.signages %}
                {% if forloop.first %}<ul>{% endif %}
                <li>{{ s.name_display|safe }}</li>
                {% if forloop.last %}</ul>{% endif %}
            {% empty %}
                <span class="none">{% trans "None" %}</span>
            {% endfor %}
        </td>
    </tr>
    {% endif %}
</table>
